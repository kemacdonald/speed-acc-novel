---
title             : "Seeking social information during language comprehension and word learning"
shorttitle        : "Integrating social and statistical information"

author: 
  - name          : "Kyle MacDonald"
    affiliation   : "1"
    corresponding : yes    # Define only one corresponding author
    address       : "450 Serra Mall, Stanford, CA 94306"
    email         : "kylem4@stanford.edu"
  - name          : "Elizabeth Swanson"
    affiliation   : "1"
  - name          : "Michael C. Frank"
    affiliation   : "1"

affiliation:
  - id            : "1"
    institution   : "Stanford University"

authornote: |

abstract: |
  Children process words in complex environments where there are often many things to talk about. How do children understand and learn language despite this kind of noisy input? Statistical accounts emphasize children’s pattern detection and aggregation of consistent word-object co-occurrences over time. Social-pragmatic theories point out that language is acquired within interactions with social partners who can reduce ambiguity within individual labeling events. Here, we present three studies of eye movements that ask how children integrate these two sources of information -- statistical and social -- to shape their decisions about where to seek information during real-time language processing. First, both children and adults showed parallel gaze dynamics when processing familiar words that were or were not accompanied by a social cue to reference (speaker’s eye gaze). Second, in a minimal cross-situational word learning task, adults looked longer at novel word-object mappings that were learned via a social cue. Finally, in contrast to processing familiar words, both children and adults fixated longer on a speaker who provided a disambiguating gaze cue, which, in turn, led to more looking to the named object and less looking to the other objects in the scene. Moreover, this differential looking to a helpful social partner increased as learners were exposed to more word-object co-occurrences. Together, these results suggest that learners flexibly integrate their knowledge of object labels and the availability of social information when seeking information during language processing.
  
keywords          : "eye movements; word learning; language comprehension; information-seeking; gaze following"
wordcount         : "X"
bibliography      : ["speed-acc-novel.bib", "r-references.bib"]
floatsintext      : yes
figurelist        : no
tablelist         : no
footnotelist      : no
linenumbers       : no
mask              : no
draft             : no
documentclass     : "apa6"
classoption       : "man"
output            : papaja::apa6_pdf
---

```{r load_packages, include = FALSE}
knitr::opts_chunk$set(fig.pos = '!t', fig.width = 6, fig.asp=0.8, out.width = "90%", 
                      cache = T, fig.path='figs/', fig.align = 'center',
                      echo=F, warning=F, message=F, 
                      sanitize = T)

source(here::here("code/helper_functions/libraries_and_functions.R"))
source(here::here("code/helper_functions/permutation_helpers.R"))
source(here::here("code/helper_functions/ewma_helper_funs.R"))
source(here::here("code/helper_functions/paper_helpers.R"))
bib <- knitcitations::read.bibtex(here::here("writing/manuscript/speed-acc-novel.bib"))

# data_paths
demo_path <- "data/01_participant_logs/"
data_path <- "data/03_processed_data/"
stimuli_path <- "data/00_stimuli_information/analysis_order_sheets"
image_path <- "writing/figures/plots"
```

```{r model-globals}
library(tidybayes)
options (mc.cores=parallel::detectCores()) # Run on multiple cores
set.seed (3875)
```

```{r read stimuli information}
d_gaze_stim <- read_csv(here::here(stimuli_path, "speed-acc-child-gaze-trial-info.csv"), col_types = cols(.default = "c"))
d_adult_ng_stim <- read_csv(here::here(stimuli_path, "speed-acc-adult-ng-trial-info.csv"), col_types = cols(.default = "c"))
d_stim <- bind_rows(mutate(d_gaze_stim, experiment = "kids_gaze"), mutate(d_adult_ng_stim, experiment = "adults_ng"))
```

```{r read_familiar_words_data}
d_fam_child <- read_csv(here::here(data_path, "familiar_words/speed_acc_child_gaze_fstshift_tidy.csv")) %>% 
  rename(age_days = age) %>% 
  mutate(age_group = "children")

d_fam_adult <- read_csv(here::here(data_path, "familiar_words/speed_acc_adult_ng_fstshift_tidy.csv")) %>% 
  filter(noise_condition == "clear") %>% 
  rename(run_date = dot,
         comments = notes) %>% 
  select(-age, -resp_onset_type_fact, -reason_excluded) %>% 
  mutate(birthday = NA,
         age_group = "adults", 
         age_days = NA,
         run_date = lubridate::as_datetime(run_date))

# clean up and join kid and adult data
d_fam <- bind_rows(d_fam_child, d_fam_adult)
```

```{r read_speed_novel_data}
d_novel_fs <- read_csv(here::here(data_path, "novel_words/speed_acc_novel_shifts.csv")) %>% 
  mutate(learn_block_half = ifelse(trial_num_learn_block <= 2, "first", "second"),
         trial_num_lblock_8 = case_when(
           trial_type == "exposure" & trial_num_learn_block == 1 ~ "1",
           trial_type == "test" & trial_num_learn_block == 1 ~ "2",
           trial_type == "exposure" & trial_num_learn_block == 2 ~ "3",
           trial_type == "test" & trial_num_learn_block == 2 ~ "4",
           trial_type == "exposure" & trial_num_learn_block == 3 ~ "5",
           trial_type == "test" & trial_num_learn_block == 3 ~ "6",
           trial_type == "exposure" & trial_num_learn_block == 4 ~ "7",
           trial_type == "test" & trial_num_learn_block == 4 ~ "8",
           TRUE ~ "NA"),
         correct_bool = ifelse(shift_accuracy == "correct", TRUE, FALSE),
         correct_num = ifelse(shift_accuracy == "correct", 1, 0),
         log_rt = log(rt),
         age_category = ifelse(age_category == "child", "children", "adults")) %>% 
  mutate(age_category = factor(age_category, levels = c("children", "adults")),
         gaze_on_trial = case_when(
           gaze_condition == "gaze" & trial_type == "exposure" ~ "gaze",
           TRUE ~ "no_gaze"
           )
         )

d_novel_tc <- read_feather(here::here(data_path, "novel_words/speed_acc_novel_timecourse.feather")) %>% 
  mutate(learn_block_half = ifelse(trial_num_learn_block <= 2, "first", "second"),
         trial_num_lblock_8 = case_when(
           trial_type == "exposure" & trial_num_learn_block == 1 ~ "1",
           trial_type == "test" & trial_num_learn_block == 1 ~ "2",
           trial_type == "exposure" & trial_num_learn_block == 2 ~ "3",
           trial_type == "test" & trial_num_learn_block == 2 ~ "4",
           trial_type == "exposure" & trial_num_learn_block == 3 ~ "5",
           trial_type == "test" & trial_num_learn_block == 3 ~ "6",
           trial_type == "exposure" & trial_num_learn_block == 4 ~ "7",
           trial_type == "test" & trial_num_learn_block == 4 ~ "8",
           TRUE ~ "NA"
         ))
```

# Introduction

How is it that children, who are just learning how to walk, are able to segment units from a continuous stream of linguistic information and map them to their corresponding conceptual representations. This word-to-meaning mapping becomes even more striking when we consider that a speaker’s intended meaning is largely unconstrained by the co-occurring context; a point made famous by W.V. Quine’s example of a field linguist trying to select the target meaning of a new word (“gavagai”) from the set of possible meanings consistent with the event of a rabbit running (e.g., "white," "rabbit," "dinner," etc.) [@quine19600].

Research on early lexical development has pursued several solutions to the problem of referential uncertainty. First, lab-based studies and computational models have explored how statistical learning mechanisms can reduce ambiguity during word learning. Under these *cross-situational* learning accounts, children overcome referential uncertainty within a specific labeling event by tracking the elements of a context that remain consistent across multiple exposures to a new word [@yu2007rapid; @siskind1996computational; @roy2002learning]. Experiments show that 12-month-old infants are capable of learning novel words via repeated exposures to consistent word-object pairings [ @smith2008infants]. Moreover, simulation studies show that models of a simple cross-situational learner can acquire an adult-sized vocabulary from exposures that fall well within the bounds of children’s language experience [@blythe2010learning] and even when referential uncertainty is high [@blythe2016word].

Social-pragmatic theories argue that the complexity of word learning is reduced via children’s ecological context of learning words within grounded, social interactions [@clark2009first; @bloom2002children; @hollich2000breaking]. Observational studies show that adults are skilled at using gesture and eye gaze to structure language interactions with children [@estigarribia2007getting]. And, from a young age, children can use social cues to infer word meanings [@baldwin1993infants] and can produce gestures such as reaches and points to share attention and elicit labels from other people [@liszkowski2012prelinguistic]. Finally, correlational studies have demonstrated links between early gaze following and later vocabulary growth [@brooks2005development; @carpenter1998social].

Thus, word learners have access to a variety of ways to reduce their uncertainty about new word meanings. These learning mechanisms, however, are unlikely to operate in isolation, highlighting the importance of developing an integrative explanation and corresponding empirical work that attempts to explain how different sources of information might mutually influence one another to support language acquisition. Several models of word learning have pursued integrative accounts of how learners might integrate social and statistical information. For example, computational modeling work by @yu2007unified found better word-object mapping performance if the model used social cues (eye gaze) to increase the strength of specific word-object associations stored from each learning instance. Moreover, @frank2009using showed that adding social inferences to cross-situational learning models allowed them to explain a variety of key phenomena in early language development.

In addition to the need for integration, the accounts of word learning reviewed above reflect a somewhat passive construal of the learner. In contrast, children can exert control over their environment via actions such as choosing where to look, pointing, asking verbal questions. A body of research outside the domain of language acquisition shows the benefits of *active learning*  or giving learners control to structure their learning experiences [@gureckis2012self; @settles2012active; @castro2009human]. The upshot of this work is that active learning can be superior because it allows people to use their prior experience and current uncertainty to select the most helpful examples (e.g., asking a question about something that is particularly confusing). Recent empirical and modeling work has begun to explore the role of active control in word learning [@partridge2015young; @hidaka2017quantifying]. For example, @kachergis2013actively showed that adults who were given control over what novel objects would be labeled showed stronger word learning compared to adults who passively experienced the word-object pairings. 

Selecting an entire set of objects to be labeled is a complex active learning behavior; one that might not yet be possible for younger word learners. Children, however, are relatively well-practiced at choosing where to allocate their visual attention. Moreover, to learn concrete nouns, children must first map linguistic signal onto objects in the visual word by gathering information via visual fixation. Recent work has shown that how infants ability to sustain visual attention is a strong predictor of their novel word learning in experimental tasks and in correlational studies across development [@smith2013visual]. These facts make children’s real-time visual information selection a good case study for asking how social and statistical information are integrated to shape active processes during early word learning. 

## Current studies

In the current paper, we present a set of studies that synthesize ideas from the social, statistical, and active learning. We ask how children's real-time information selection via their eye movements is shaped by social information present in the labeling moment and by statistical information that is accumulated over time. We draw on ideas from theories of goal-based vision that characterize eye movements as information seeking decisions that aim to minimize uncertainty about the world [@hayhoe2005eye]. Under this account, learners should integrate statistical and social information in their decisions of where to fixate by computing the usefulness of an eye movement with respect to their current goals.

The studies are designed to answer several open questions for theories of word learning. First, how do statistical learning mechanisms operate over fundamentally social input? The majority of prior work on statistical word learning has used linguistic stimuli that come from a disembodied voice, removing a rich set of multimodal cues (e.g., gestures, facial expressions, mouth movements) that occur during face-to-face communication. By including a social partner as a fixation target, this work will add to our understanding of how social contexts shape the input to statistical word learning mechanisms. 

Second, how do children use visual information to support their language learning? In this work, we frame the learner's task as decision making under time constraints. Using this theoretical framework allows us to leverage analytic tools developed over the past several decades designed to study the dynamics of rapid choice: Drift Diffusion Models [@ratcliff2015individual]. The benefit of this modeling approach is that it provides a tool for quantifying differences in underlying psychological constructs of interest -- the speed of processing vs. cautious response strategies -- that might lead to measurable behavioral differences. At a higher level, this approach moves towards an integration of top-down, goal-based models of vision [@hayhoe2005eye] with work on language-driven eye movements [@allopenna1998tracking] that often use eye movements as outputs of the underlying language comprehension process.

Finally, this study will increase our understanding of how children's in-the-moment behaviors, such as decisions about visual fixation, connect to learning that unfolds over longer timescales. Following @mcmurray2012word, we separate situation-time behaviors (figuring out the referent of a word) from developmental-time processes (slowly forming mappings between words and concepts). Moreover, by studying changes in patterns of eye movements over the course of learning, we will add to a recent body of empirical work that emphasizes the importance of linking real-time information selection to longer-term statistical learning [@yu2011you]. 

# Analytic approach

<!-- To quantify evidence for our predictions, we follow @macdonald2018speed and present four analyses: (1) the timecourse of listeners' looking to each area of interest (AOI), (2) the Reaction Time (RT) and Accuracy of listeners' first shifts away from the speaker's face, (3) an Exponentially Weighted Moving Average (EWMA), and (4) a Drift Diffusion Model (DDM). ^[All analysis code can be found in the online repository for this project: https://github.com/kemacdonald/speed-acc-novel.] -->

To quantify evidence for our predictions, we present analyses of (1) the time course of listeners' looking to each area of interest (AOI) and (2) the Reaction Time (RT) and Accuracy of listeners' first shifts away from the speaker's face and to the objects ^[All analysis code can be found in the online repository for this project: https://github.com/kemacdonald/speed-acc-novel.].

First, we analyzed the timecourse of participants' looking to each AOI in the visual scene as the target sentence unfolded. Proportion looking reflects the mean proportion of trials on which participants fixated on the speaker, the target image, or the distracter image at every 33-ms interval of the stimulus sentence. We tested condition differences in the proportion looking to the language source -- signer or speaker -- using a nonparametric cluster-based permutation analysis, which accounts for the issue of taking multiple comparisons across many time bins in the timecourse [@maris2007nonparametric]. A higher proportion of looking to the language source in the gaze condition would indicate listeners' prioritization of seeking visual information from the speaker.

Next, we analyzed the RT and Accuracy of participants' initial gaze shifts away from the speaker to objects. RT corresponds to the latency of shifting gaze away from the central stimulus to either object measured from the onset of the target noun. All reaction time distributions were trimmed to between zero and two seconds and RTs were modeled in log space. Accuracy corresponds to whether participants' first gaze shift landed on the target or the distracter object. If listeners generate slower but more accurate gaze shifts, this  provides evidence that gathering more visual information from the speaker led to more robust language processing.

In Experiments 2 and 3, which measure novel word learning as a function of multiple word-object exposures, we compute proportion looking to the speaker for each trial, which corresponds to the amount of time looking to the speaker over the total amount of time looking at the three AOIs. We interpret a higher looking to the speaker as increased information seeking to gather the social cue. We also compute the proportion looking to the target object, which corresponds to the time spent looking to the target over the total amount of time fixating on both the target and the distracter objects. Higher target looking on Exposure trials with gaze cues indicate that learners followed the gaze cue. We interpret higher target looking on test trials indicates stronger retention for the newly learned word-object links. In all analyses of learning, we treat trial number as continous and age group -- children vs. adults -- as categorical. 

We used the `brms` [@burkner2017brms] package to fit Bayesian mixed-effects regression models. The mixed-effects approach allowed us to model the nested structures in our data -- multiple trials for each participant and item, and a within-participants manipulation in Experiments 1 and 3. We used Bayesian estimation to quantify uncertainty in our point estimates, which we communicate using a 95% Highest Density Interval (HDI), providing a range of credible values given the data and model.

<!-- Following the behavioral results, we present two model-based analyses ^[For more details about the model-based analyses see @macdonald2018speed or Chapter 3.]. The goal of each model is to move beyond a description of the data and to map behavioral differences to underlying psychological processes. The EWMA models changes in the tendency to generate random gaze shifts as a function of RT [@vandekerckhove2007fitting]. This model allows us to quantify the proportion of gaze shifts that were classified as language-driven as opposed to guessing. If listeners seek more visual information from the language source, then they should generate a higher proportion of language-driven shifts and fewer random responses. -->

<!-- Finally, following @vandekerckhove2007fitting, we selected the gaze shifts categorized as language-driven by the EWMA and fit a hierarchical Bayesian Drift-Diffusion Model (HDDM) [@wiecki2013hddm]. The DDM is a cognitive model of decision making developed over the past forty  years (Ratcliff  &  McKoon,  2008) that can quantify differences in the underlying decision process that lead to different patterns of observable behavior. Here, we focus on two parameters of interest: *boundary separation*, which indexes the amount of evidence gathered before generating a response (higher values suggest more information gathered before responding) and *drift rate*, which indexes the amount of evidence accumulated per unit time (higher values suggest more efficient processing). If listeners have a higher boundary separation estimate, this provides additional evidence that more accurate responses were driven by changes in information accumulation as opposed to processing efficiency. -->

# Experiment 1

In Experiment 1, we measured the timecourse of children and adults' decisions about visual fixation as they processed sentences with familiar words  (e.g., "Where's the ball?"). ^[See https://osf.io/2q4gw/for a pre-registration of the analysis plan.]. We manipulated whether the speaker produced a post-nominal gaze cue to the named object. The visual world consisted of three fixation targets (a center video of a person speaking, a target picture, and a distracter picture; see Figure XXX). The primary question of interest is whether listeners would delay shifting away from the speaker's face when she was likely to generate a gaze cue. We predicted that choosing to fixate longer on the speaker would allow listeners to gather more language-relevant visual information and facilitate comprehension. In contrast, if listeners show parallel gaze dynmamics across the gaze and no-gaze conditions, this pattern suggests that hearing the familiar word was the primary factor driving shifts in visual attention.

## Methods

### Participants

```{r exclusions-table}
n_exclude_et_e1 <- d_fam %>% 
  filter(age_group != "adult") %>% 
  select(subid, keep_et) %>% 
  unique() %>% 
  count(keep_et)

n_exclude_runsheet_e1 <- d_fam %>% 
  filter(age_group != "adult") %>% 
  select(subid, keep_runsheet) %>% 
  unique() %>% 
  count(keep_runsheet)
```

```{r make-ss-table, results="asis"}
d_kids <- d_novel_fs %>% 
  filter(age_category == "child", keep_drop == "keep") %>% 
  select(subid, age_days, gender) %>% 
  mutate(Experiment = "Experiment 3 (novel words)") %>% 
  unique()

d_kids %<>% bind_rows(
  d_fam %>% 
    filter(age_group != "adult", keep_et == "include", keep_runsheet == "keep") %>% 
    select(subid, age_days, gender) %>% 
    unique() %>% 
    mutate(Experiment = "Experiment 1 (familiar words)" )
)

gender_breakdown <- d_kids %>% 
  count(Experiment, gender)

kids_age_table <- d_kids %>% 
  mutate(age_months = age_days / 30.25,
         age_years = age_days / 365.25) %>% 
  group_by(Experiment) %>% 
  summarise(n = n(),
            Mean = round(mean(age_months, na.rm = T), 1),
            Min = min(age_months, na.rm = T),
            Max = max(age_months, na.rm = T))

kids_age_table[, -1] <- printnum(kids_age_table[, -1])

apa_table(
  kids_age_table
  , caption = "Age distributions of children in Experiments 1 and 3. All ages are reported in months."
)
```

```{r adults-demo}
n_adults_gender <- d_novel_fs %>% 
  filter(age_category == "adult", keep_drop == "keep") %>% 
  select(subid, gender) %>% 
  unique() %>% 
  count(gender) %>% 
  mutate(Experiment = "Experiment 3")

n_adults_gender %<>% bind_rows(
  d_fam %>% 
    filter(age_group == "adult", keep_et == "include") %>% 
    select(subid, gender) %>% 
    unique() %>% 
    count(gender) %>% 
    mutate(Experiment = "Experiment 1")
)

n_adults_total <- n_adults_gender %>% group_by(Experiment) %>% summarise(n = sum(n))
```

Participants were native, monolingual English-learning children ($n=$ `r kids_age_table$n[1]`; `r gender_breakdown$n[1]` F) and adults ($n=$ `r n_adults_total$n[1]`; `r n_adults_gender$n[3]` F). All participants had no reported history of developmental or language delay and normal vision. XXX participants (XXX children, XXX adults) were run but not included in the analysis because either the eye tracker falied to calibrate (XXX children, XXX adults) or the participant did not complete the task (XXX children). 

### Materials

```{r linguistic stimuli length}
d_word_lengths <- d_stim %>% 
  filter(!is.na(noun)) %>% 
  select(noun, carrier, noun_onset_sec:noun_offset_frames) %>% 
  unique() %>% 
  mutate_at(vars(starts_with("noun_")), as.numeric) %>% 
  mutate(
    length_frames =  ( (noun_offset_sec * 33) + noun_offset_frames ) - ( (noun_onset_sec * 33) + (noun_onset_frames) ),
    length_ms = length_frames * 33
  ) 

ms_words_length <- d_word_lengths %>% 
  group_by(carrier, noun) %>% 
  summarise(m_length = mean(length_ms)) %>% 
  group_by(noun) %>% 
  summarise(m = mean(m_length) %>% round(digits = 2)) 

## compute gaze length
d_gaze_length <- d_stim %>% 
  filter(!is.na(gaze_onset_sec)) %>% 
  select(noun, carrier, gaze_onset_sec:gaze_offset_frames) %>% 
  unique() %>% 
  mutate_at(vars(starts_with("gaze_")), as.numeric) %>% 
  mutate(
    length_frames =  ( (gaze_offset_sec * 33) + gaze_offset_frames ) - ( (gaze_onset_sec * 33) + (gaze_onset_frames) ),
    gaze_length_ms = length_frames * 33
  ) 

ms_gaze_length <- d_gaze_length %>% 
  summarise(m_gaze = mean(gaze_length_ms) / 1000)

```

*Linguistic stimuli.* The video/audio stimuli were recorded in a sound-proof room and featured two female speakers who used natural child-directed speech and said one of two phrases: "Hey! Can you find the (target word)" or "Look! Where's the (target word). The target words were: ball, bunny, boat, bottle, cookie, juice, chicken, and shoe. The target words varied in length (shortest = `r min(ms_words_length$m)` ms, longest = `r max(ms_words_length$m)` ms) with an average length of `r mean(ms_words_length$m) %>% round(digits=2)` ms. 

*Gaze manipulation*. To create the stimuli in the gaze condition, the speaker waited until she finished producing the target sentence and then turned her head to gaze at the bottom right corner of the camera frame. After looking at the named object, she then returned her gaze to the center of the frame. We chose to allow the length of the gaze cue to vary to keep the stimuli naturalistic. The average length of gaze was `r printnum(ms_gaze_length$m_gaze)` seconds with a range from `r printnum(min(d_gaze_length$gaze_length_ms) / 1000)` to `r printnum(max(d_gaze_length$gaze_length_ms) / 1000)` seconds.

*Visual stimuli.* The image set consisted of colorful digitized pictures of objects presented in fixed pairs with no phonological overlap between the target and the distracter image (cookie-bottle, boat-juice, bunny-chicken, shoe-ball). The side of the target picture was counterbalanced across trials.

### Procedure

```{r gaze-stimuli, fig.cap = "Stimuli for Experiments 1 and 3. Panel A shows the timecourse of the linguistic stimuli for a single trial. Panel B shows the layout of the fixation locations for all tasks: the center stimulus, the target, and the distracter. Panel C shows a sample of the images used as novel objects in Experiment 3. Panel D shows the social gaze manipulation."}

knitr::include_graphics(here::here(image_path, "gaze_stimuli.jpeg"))
```

Participants viewed the task on a screen while their gaze was tracked using an SMI RED corneal-reflection eye-tracker mounted on an LCD monitor, sampling at 30 Hz. The eye-tracker was first calibrated for each participant using a 6-point calibration. On each trial, participants saw two images of familiar objects on the screen for two seconds before the center stimulus appeared. Next, they processed the target sentence -- which consisted of a carrier phrase, a target noun, and a question -- followed by two seconds without language to allow for a response. Both children and adults saw 32 trials (16 gaze trials; 16 no-gaze trials) with several filler trials interspersed to maintain interest. The gaze manipulation was presented in a blocked design with the order of block counterbalanced across participants.

## Results and Discussion

*Timecourse looking.* We first analyzed how the presence of gaze influenced listeners' distribution of attention across the three fixation locations while processing familair words. At target-noun onset, listeners tended to look more at the speaker than the objects. As the target noun unfolded, the mean proportion looking to the center decreased as participants shifted their gaze to the images. Proportion looking to the target increased sooner and reached a higher asymptote compared to proportion looking to the distracter for both gaze conditions with adults spending more time looking at the target compared to children. After looking to the named referent, listeners tended to shift their gaze back to the speaker's face. 

```{r speed-acc-gaze-results, out.width="95%", fig.cap = "Timecourse looking, first shift Reaction Time (RT), and Accuracy results for children in Experiment 1. Panel A shows the overall looking to the center, target, and distracter stimulus for each context. Panel B shows the distribution of pairwise contrasts between RTs in the gaze and no-gaze conditions. The square point represents the mean value for each measure. The vertical dashed line represents the null model of zero condition difference. The width each point represents the 95\\% HDI. Panel C shows the same information but for participants' first shift accuracy."}

knitr::include_graphics(here::here(image_path, "speed_acc_fam_behav.jpeg"))
```

We did not see evidence that the presence of a post-nominal gaze cue changed how children or adults allocated attention early in the target word. Children in the gaze condition, however, tended to shift their attention back to the speaker earlier in the time course and spent more time fixating on the speaker's face throughout the rest of the trial ($p < .001$; nonparametric cluster-based permutation analysis). Next, we ask how these different processing contexts changed the timing and accuracy of children's initial decisions to shift away from the center stimulus.

```{r filter for blmm}
d_model_fam <- d_fam %>% 
  filter(keep_runsheet %in% c("yes", "keep"), 
         keep_et == "include",
         rt <= 2,
         response_onset_type == "noun",
         shift_start_location == "center") %>% 
  mutate(correct_num = ifelse(shift_accuracy_clean == "correct", 1, 0))
```

```{r blmm speed-acc-fam, include = FALSE}
# RT
fit_rt_fam <- brms::brm(log(rt) ~ gaze_condition + age_group + (gaze_condition + target_image|subid), 
                        data = d_model_fam, 
                        family = gaussian(),
                        silent = TRUE)

params <- rownames(fixef(fit_rt_fam))

coefs_rt_fam <- fixef(fit_rt_fam) %>% 
  as_tibble() %>% 
  mutate(param = params) %>% 
  mutate_if(is.numeric, round, 2)

ms_rt_fam <- d_model_fam %>% 
  group_by(age_group, gaze_condition) %>% 
  summarise(m = mean(rt * 1000) %>% round(3))

# accuracy
fit_acc_fam <- brms::brm(correct_num ~ gaze_condition + age_group + (gaze_condition + target_image|subid), 
                        data = d_model_fam, 
                        family = binomial(link = 'logit'),
                        silent = TRUE)

coefs_acc_fam <- fixef(fit_acc_fam) %>% 
  as_tibble() %>% 
  mutate(param = params) %>% 
  mutate_if(is.numeric, round, 2)

ms_acc_fam <- d_model_fam %>% 
  group_by(age_group, gaze_condition) %>% 
  summarise(m = mean(correct_num) %>% round(2))
```

*First shift RT and Accuracy.* To quantify differences across the groups, we fit a Bayesian linear mixed-effects regression predicting first shift RT as a function of gaze condition and age group: *Log(RT) $\sim$ gaze condition + age group +  (gaze_condition + item | subject)*. Both children and adults generated similar RTs in the gaze (children $M_{rt}$ = `r ms_rt_fam$m[3]` ms, adults $M_{rt}$ = `r ms_rt_fam$m[1]` ms) and no-gaze (children $M_{rt}$ = `r ms_rt_fam$m[4]` ms, adults $M_{rt}$ = `r ms_rt_fam$m[2]` ms) conditions, with the null value of zero condition differences falling within the 95% credible interval ($\beta$ = `r coefs_rt_fam$Estimate[2]`, 95% HDI [`r coefs_rt_fam$Q2.5[2]`, `r  coefs_rt_fam$Q97.5[2]`]). Next, we fit the same model to estimate first shift accuracy. Adults generated more accurate gaze shifts ($M$ = `r ms_acc_fam$m[1]`) compared to children ($M$ = `r ms_acc_fam$m[3]`) with the null value falling within the 95% HDI ($\beta_{age}$ = `r coefs_acc_fam$Estimate[3]`, 95% HDI [`r coefs_acc_fam$Q2.5[3]`, `r coefs_acc_fam$Q97.5[3]`]). Similar to the RT analysis, we did not find strong evidence of a difference in performance across the gaze conditions ($\beta$ = `r coefs_acc_fam$Estimate[2]`, 95% HDI [`r coefs_acc_fam$Q2.5[2]`, `r coefs_acc_fam$Q97.5[2]`]).

Taken together, the time course and first shift analyses suggest that hearing a familiar noun was sufficient for both adults and children to drive visual attention away from the speaker to seek the named referent. Morever, neither age group showed evidence of delaying their gaze shifts to fixate on the speaker's face and gather a social cue to reference that could have provided additional disambiguating information. The presence of gaze, however, did affect children's looking behavior later in the trial such that they were more likely to allocate attention to the speaker when she had gazed at the named object. While we did not predict these results, it is interesting that children's gaze dynamics did not change when processing highly familiar words in the presence of a social cue. This behavior seems reasonable if eye movements in response to familiar language are highly-practiced visual routines that do not allocate fixations to less-relevant locations. Moreover, if children developed an expectation that their goal was to find named objects quickly, then fixating the speaker becomes less goal-relevant. 

In our previous work, we found that both children and adults fixate longer on a speaker when language is more difficult to process because of background noise [@macdonald2018speed]. We explained this result as an adaptation to the informational demands of listeners' environment such that they were seeking additional visual information to support language comprehension. The results of Experiment 1 can constrain our information seeking explanation by showing that children do not always gather more visual information; instead, they respond to the uncertainty in the input and adapt gaze to seek information when uncertainty is higher. This raises an interesting question: Would children's information seeking adapt when they do not know the word-object mappings? That is, when the learner is surrounded by novel objects, the value of seeking visual information from a social partner should increase since this action could provide highly-relevant information for decreasing referential uncertainty -- a point that has long been emphasized by social-pragmatic theories of language acquisition [@bloom2002children; @clark2009first; @hollich2000breaking]. Experiments 2 and 3 explore this interesting case and ask whether learners would adapt their gaze patterns to seek supprortive visual information from social partners in the context of mapping novel words to their referents. 

# Experiment 2

```{r read_gaze_xsit_data}
d_gz_xsit <- read_csv(here::here(data_path, "novel_words/gaze_xsit_tidy_trial_level.csv"))
d_gz_xsit_tc <- read_csv(here::here(data_path, "novel_words/gaze_xsit_tidy_timecourse.csv"))
```

Because children hear language in environments with multiple possible referents, learning the meaning of even the simplest word requires reducing this uncertainty. A cross-situational statistical learner can aggregate across ambiguous naming events to learn stable word meanings. But for this aggregation process to work, learners must allocate their limited attention and memory resources to the relevant statistics in the world – how do they select what information to store? 

In prior work (discussed in Chapter 4), we found that the presence of a gaze cue shifted adults away from storing multiple word-object links and towards tracking a single hypothesis. Those experiments, however, relied on an offline measurement of word learning (a button press on test trials) and an indirect measure of attention during learning (self-paced decisions about how long to inspect the visual scene during learning trials). We begain to address these limitations in a pilot study where we adapted the social cross-situational learning paradigm to use eye-tracking methods. Moving to an eye-tracking procedure allowed us to ask (1) how does the presence of gaze alter the distribution of visual attention during labeling? and (2) does the presence of a gaze cue change the strength of learners' inferences about word-object links? 

## Methods

### Participants

34 undergraduate students were recruited from the Stanford Psychology One credit pool (17 F). Four participants were excluded during analysis because the eye-tracker did not properly record their gaze coordinates. The final sample included 30 participants.

### Materials

The experiment featured sixteen pseudo-words recorded by an AT&T Natural VoicesTM speech synthesizer using the "Crystal"" voice (a woman’s voice with an American English accent), as well as 48 novel objects represented by black-and-white drawings of fictional objects from Kanwisher, Woods, Iacoboni, and Mazziotta (1997). Sixteen words were used so that the experiment would be sufficiently long to make within-subject comparisons across trials, and 48 objects were used so that objects would not be repeated across trials. Six familiar objects from the same set of drawings were used for the two practice trials, accompanied by two familiar words using the same speech synthesizer. Finally, the videos of the speaker’s face were taken from from @macdonald2017social. 

### Procedure

We tracked adults' eye movements while they watched a series of ambiguous word-learning events (16 novel words) organized into pairs of exposure and test trials (32 trials total). All trials consisted of a set of two novel objects and one novel word. Participants were randomly assigned to either the Gaze condition in which a speaker looked at one of the objects on exposure trials or the No-Gaze condition in which a speaker looked straight on exposure trials. Every exposure trial was followed by a test trial, where participants heard the same novel word paired with a new set of two novel objects. One of the objects in the set had appeared in the exposure trial ("target" object), while the other object had not previously appeared in the experiment ("distracter" object). 

```{r gaze-xsit-tc-plot, fig.width=3, out.width="100%", fig.cap = "Overview of adults' looking to the three fixation targets (Face, Target, Distracter) over the course of the trial. Panel A shows proportion looking to the speaker's face for exposure and test trials. Color and linetype represent gaze condition. Panel B shows the same information but for proportion looking to the target and distracter images."}

knitr::include_graphics(here::here(image_path, "gaze_xsit_tc.jpeg"))
```


The side of the screen of the target object was counterbalanced throughout the experiment. In the gaze condition, for half of the test trials, the target object was the focus of the speaker’s gaze during the exposure trial, while the other half, the target object was the object that had not been the focus of gaze during labeling.

## Results and Discussion

*Timecourse looking.* The first question of interest was how did the presence of a gaze cue change adults' distribution of attention across the three fixation locations while processing language in real-time? Figure\ \ref{fig:gaze-xsit-tc-plot} presents an overview of looking to each AOI for each processing context. This plot shows changes in the mean proportion of trials on which participants fixated on the speaker's face, the target image, or the distracter image at every 33-ms interval of the stimulus sentence. At target-noun onset, adults tended to look more at the speaker's face on both exposure and test trials. As the target noun unfolded, the mean proportion looking to the center decreased as participants shifted their gaze to the target or the distracter images. On exposure trials tended to distribute their attention relatively evenly across target and distracter images. On test trials, proportion looking to the target increased sooner and reached a higher asymptote compared to proportion looking to the distracter for both condition, suggesting that adults were able to track the consistent word-object links in both conditions.

There were several qualitative differences in looking behavior across the different gaze conditions and trial types. First, adults spent more time looking to a speaker's face when she provided a social gaze cue, especially on test trials that were preceded by gaze (Panel A of Figure XXX). Second, adults in the gaze condition looked slightly more to the target image over the course of the trial. This behavior is reasonable since half of the trials, the speaker's gaze was focused on the target image that would appear on the subsequent test trial. Third, on test trials, adults looked more to the images in the no-gaze context. This led to a higher proportion of looking to the target, but also a higher proportion of looking to the distracter images (Panel B of Figure XXX). 

Together, these looking patterns provide preliminary evidence that the presence of a gaze cue caused adults to spend more time gathering visual information from the speaker's face. Next, we ask how the social gaze cue modulated learning, which we operationalized as the relationship between looking behavior on exposure and test trials.

```{r gaze-xsit-prop-looking-plot, fig.cap = "Panel A shows participants’ tendency to look at the object that was the target of the speaker’s gaze on exposure trials. The vertical, dashed line represents the mean proportion of time looking to the gaze target across all trials. Panel B shows the relationship between adults' looking behavior on exposure and test trials for the gaze and no-gaze conditions."}

knitr::include_graphics(here::here(image_path, "gaze_xsit_prop_looking.jpeg"))
```

```{r gaze-xsit-model, include = FALSE}
ss_gz_xsit <- d_gz_xsit %>% 
  filter(!is.na(prop_looking)) %>% 
  select(subid, trial_type, condition, m_correct, trial_num) %>% 
  distinct() %>% 
  spread(trial_type, m_correct)

fit_gaze_xsit <- brms::brm(test ~ exposure * condition + (1|subid), 
            data = ss_gz_xsit, family = gaussian(),
            silent = TRUE)

coefs_gaze_xsit <- broom::tidy(fit_gaze_xsit)
```

*Relationship between performance on exposure and test trials.* When the speaker generated a social cue during labeling, adults reliably followed that cue and tended to focus their attention on a single object (Figure XXXA). In contrast, people in the No-gaze condition tended to distribute their attention more broadly across the two objects. For adults in both gaze contexts, more time spent attending to the target object on exposure trials led higher proportion looking to the target, i.e., better recall, at test ($\beta_{exposure}$ = `r printnum(coefs_gaze_xsit$estimate[2])`, 95% HDI [`r printnum(coefs_gaze_xsit$lower[2])`, `r printnum(coefs_gaze_xsit$upper[2])`]). Critically, there was an interaction between the gaze condition and the relationship between attention on exposure and test: When eye gaze cued visual attention, adults showed stronger memory for the word-object link ($\beta_{int}$ = `r printnum(coefs_gaze_xsit$estimate[4])`, 95% HDI [`r printnum(coefs_gaze_xsit$lower[4])`, `r printnum(coefs_gaze_xsit$upper[4])`]). This result provides evidence that social information does not only modulate people's in-the-moment decisions about how to allocate their visual attention; instead, the social cue changed the strength of the memory for word-object links that are stored during cross-situational word learning.

### Limitations

There were several key limitations of our pilot study. First, we chose to start the liguistic stimulus as soon as the images and the speaker appeared on the screen (i.e., at trial onset). This made it difficult to analyze the timing and accuracy of first shifts decisions away from the speaker and to the objects. Second, this trial structure did not allow us to measure decisions about visual fixation that occur before the start of language comprehension while learners are first gathering information about the visual world. Finally, the linguistic stimuli consisted of sixteen pseudowords recorded by a speech synthesizer and presented in isolation, thus removing any sentential context. Presenting isolated words is unlikely to work with younger age groups and does not allow us to separate decisions about fixations made during language processing more broadly from decisions that occur after the onset of the target noun -- a critical distinction for our modeling of the underlying decision-making process. Experiment 3 was designed to address these limitations and to ask how learners' information seeking from social partners changes as a function of increased exposure to word-object mappings (i.e., disambiguating statistical information).

# Experiment 3

Experiment 3 was designed to ask how social information modulates learners' real-time visual information selection as they accumulate knowledge about novel word-object links ^[See https://osf.io/nfz85/ for a pre-registration of the analysis plan and predictions.]. We also set out to address the limitations of Experiment 2 discussed above. There were two key modifications. First, we modified the cross-situational learning paradigm to include more than two exposures to a novel word-object link. This allowed us to measure changes in learners' integration of social and statistical information over a longer timescale. Second, we changed the linguistic stimuli to parallel the design of Experiment 1 such that the novel words occurred within a target sentence. This allowed us to leverage the analytic techniques developed for analyzing participants' initial gaze shifts in Experiment 1 to ask how decisions about visual information gathering from social partners changed as a function of repeated exposure to statistical information about word-object mappings.

\noindent
We aimed to answer the following specific research questions: 

  1. How do decisions about where to allocate visual attention (speakers vs. objects) change as a function of learning a new word? 
  2. How does the presence of a social cue to reference (eye gaze) change the dynamics of children's gaze patterns during object labeling? 
  3. What is the relationship between chidren's gaze patterns during object labeling and their memory of new words?
  
To answer these questions, we compared the timing and accuracy of eye movements during a real-time cross-situational learning task where participants process sentences that contain a novel word (e.g., "Where's the *dax*?") while looking at a simplified visual world with 3 fixation targets (a video of a speaker and two images of unfamiliar objects).

## Predictions

We had three key behavioral predictions. First, for all conditions, participants’ distribution of attention to speakers compared to objects will shift over the course of learning. Early in the task, participants will allocate more fixations to a speaker to prioritize gathering visual information that disambiguates reference. After experiencing multiple exposures to a word-object pairing, participants will generate faster saccades, showing signatures of comprehension of the incoming speech. We further predict that later in learning blocks, participants will allocate more fixations to the objects, showing looking behaviors that support learning long-term associations between words and objects.

Second, the presence of a gaze cue will change participants’ decisions about visual fixation. We hypothesize that a post-nominal gaze cue increases the value of fixating on a speaker. This manipulation will cause participants to allocate more fixations to the speaker when gaze is present, leading to slower first shift reaction times and higher proportion looking, especially earlier in learning (i.e., lower trial numbers within each block of exposure trials to a novel word-object pairing). This prediction will be operationalized as a main effect of Gaze condition on RT, and a trial number by Gaze condition interaction such that the decrease in RT will be greater on exposure trials in the Gaze condition.

Third, the Gaze condition should lead to stronger inferences about the correct word-object mapping, resulting in faster learning that we operationalize as more accurate first shifts, faster RTs, and a higher proportion looking to the target vs. the distractor object on test trials as compared to learning words without a gaze cue across both exposure and test trials.

## Methods

### Participants

```{r exclusions-e3}
d_excluded_e3 <- d_novel_fs %>% 
  select(subid, keep_drop, reason_excluded, age_category) %>% 
  unique() %>% 
  filter(keep_drop == "drop") %>% 
  count(reason_excluded, age_category)
```

Participants were native, monolingual English-learning children ($n=$ `r kids_age_table$n[2]`; `r gender_breakdown$n[3]` F) and adults ($n=$ `r n_adults_total$n[2]`; `r n_adults_gender$n[1]` F). All participants had no reported history of developmental or language delay and normal vision. `r d_excluded_e3$n[1]` adults were run but not included in the analysis because they were not native speakers of English. XXX participants were run but not included in analysis because either the eye tracker falied to calibrate (XXX children, XXX adults) or the participant did not complete the task (XXX children). 

### Materials

*Linguistic stimuli.* The video/audio stimuli were recorded in a sound-proof room and featured two female speakers who used natural child-directed speech and said one of two phrases: "Hey! Can you find the (novel word)" or "Look! Where's the (novel word). The target words were four pseudo-words: bosa, modi, toma, and pifo. The novel words varied in length (shortest = XXX ms, longest = XXX ms) with an average length of XXX ms. 

*Gaze manipulation*. To create the stimuli in the gaze condition, the speaker waited until she finished producing the novel word before turning her head to gaze at the bottom right corner of the frame. After looking at the named object, she then returned her gaze to the center of the frame. We chose to allow the length of the gaze cue to vary to keep the stimuli naturalistic. The average length of gaze was `r printnum(ms_gaze_length$m_gaze)` seconds with a range from `r printnum(min(d_gaze_length$gaze_length_ms) / 1000)` to `r printnum(max(d_gaze_length$gaze_length_ms) / 1000)` seconds.

*Visual stimuli.* The image set consisted of 28 colorful digitized pictures of objects that were selected such that children were unlikely to already have a label associated with them. The side of the target picture was counterbalanced across trials.

### Procedure

Participants viewed the task on a screen while their gaze was tracked using an SMI RED corneal-reflection eye-tracker mounted on an LCD monitor, sampling at 30 Hz. The eye-tracker was first calibrated for each participant using a 6-point calibration. Then, participants watched a series of ambiguous word learning events organized into pairs of one exposure and one test trial. On each trial, participants saw of a set of two unfamiliar objects and heard one novel word. 

Each word was learned in a block of four exposure-test pairs for a total of eight trials for each novel word. Critically, on each trial within a word block, one of the objects in the set had appeared on the previous trials (target object), while the other object was a randomly generated novel object not previously shown in the experiment (distracter object). Both children and adults saw 32 trials (16 gaze trials; 16 no-gaze trials) with several filler trials interspersed to maintain interest. The gaze manipulation was presented in a blocked design with the order of block counterbalanced across participants.

## Results and Discussion

### Timecourse looking

```{r san-tc-plot, fig.width=3, out.width="100%", fig.cap = "Overview of children and adults' looking to the three fixation targets (Speaker, Target, Distracter) over the course of exposure and test trials. Panel A shows proportion looking to the speaker's face with color indicating gaze condition and linetype indicating age group. Panel B shows the same information but for proportion looking to the target and distracter images."}

knitr::include_graphics(here::here(image_path, "speed_acc_novel_tc.jpeg"))
```

*Looking to the speaker.* How did the presence of a gaze cue change learners' decisions to fixate on the speaker? In Figure XXXA, we see that both children and adults tended to start looking at the speaker at noun onset and shifted their gaze away as the noun unfolded, with adults doing so sooner compared to children. On Exposure trials when there was a gaze cue, both adults and children tended to look more to the face at noun onset as indicated by the higher intercept of the blue curves. Moreover, around one second after noun onset, listeners tended to shift their attention back to the speaker's face more often and especially so for children. On Test trials that were preceded by an Exposure trial with a gaze cue, children and adults tended to look more to the speaker even though there was no gaze cue present. This pattern of results provides suggestive evidence that the presence of gaze modulated learners' expectations of dismabiguating information from the speaker.

*Looking to the target and distracter.* Next, we asked how learners divided attention between the target and distracter objects. On Exposure trials, looking to both objects increased over the course of the trial but more so for looks to the named object as indicated by the higher asymptote of the target looking curves. Adults spent more time looking to the target and less time looking to the distracter as compared to children. For both children and adults, there was evidence that proportion looking to the target was higher on Exposure trials in the gaze condintion. There was a developmental difference, however, such that higher proportion looking to the target generalized to Test trials for adults but not for children who showed less robust learning of the word-object links and similar performance across the gaze conditions. The strongest effect of gaze was on the tendency to look at the distracter object, with learners allocating fewer fixations to the distracter when they could use a disambiguating gaze cue on Exposure trials and even on Test trials that were preceded by Exposure trials with a gaze cue.


### Proportion looking

```{r filter timecourse data}
d_analysis_nov <- d_novel_tc %>% 
  filter(keep_drop == "keep",
         t_rel_noun >= 0, 
         t_rel_noun <= 3)

d_analysis_nov %<>% 
  split(.$subid) %>%  
  purrr::map_dfr(create_time_bins_ss, t_ms_diff = 33)

# exclude based on runsheet information
d_exclusions_rs <- d_novel_tc %>% 
  distinct(subid, keep_drop, reason_excluded, age_category) %>% 
  filter(keep_drop == "drop") 

# exclude based on number of trials completed.
d_exclusions_et <- d_analysis_nov %>%
  filter(target_looking != "away") %>% 
  distinct(subid, trial_num_exp, age_category) %>% 
  dplyr::count(subid, age_category) %>% 
  filter(n < 16) %>% 
  mutate(keep_drop = "drop", 
         reason_excluded = "fewer than half trials completed") 

# create subid vector for filtering later
ss_exclude <- d_exclusions_et %>% pull(subid)

# Join exclusions tables and save to disk.
d_exclusions_final <- d_exclusions_et %>% 
  dplyr::select(-n) %>% 
  bind_rows(d_exclusions_rs)

d_analysis_nov %<>% filter(!(subid %in% ss_exclude))

## flag trials with less than half looking to AOIs
trial_filter <- d_analysis_nov %>% 
  distinct(subid, trial_num_exp, learning_block, gaze_condition, target_looking, time_ms_normalized) %>% 
  count(subid, trial_num_exp, learning_block, gaze_condition, target_looking) %>% 
  group_by(trial_num_exp, subid) %>% 
  mutate(total_samples = sum(n),
         prop_trial = n / total_samples,
         good_trial = case_when(
           target_looking == "away" & prop_trial >= 0.5 ~ "drop",
           TRUE ~ "keep"
         )) %>% 
  distinct(subid, trial_num_exp, good_trial)

d_analysis_nov %<>% left_join(trial_filter)

n_samples_trial <- d_analysis_nov %>% 
  count(subid, trial_num_exp) %>% 
  rename(n_samples_trial = n)

d_analysis_nov %<>% left_join(n_samples_trial)

d_analysis_nov %<>% 
  filter(target_looking != "away", good_trial == "keep") %>% 
  mutate(age_category = ifelse(age_category == "child", "children", "adults")) %>% 
  mutate(age_category = factor(age_category, levels = c("children", "adults")))
```

```{r aggregate prop looking}
ss_groupings <- list("subid", "gaze_condition", "trial_type", "age_category", "trial_num_learn_block", "trial_num_exp")
ms_groupings <- list("subid", "gaze_condition", "trial_type", "age_category", "trial_num_learn_block")

ss_novel_face <- aggregate_ss_looking(d_analysis_nov, 
                                 ss_groupings, 
                                 ms_groupings, 
                                 aoi_column = "target_looking", 
                                 return_ss_df = TRUE) 

ss_novel_obj <- d_analysis_nov %>% 
  filter(target_looking != "center") %>% 
  aggregate_ss_looking(df = ., 
                       ss_groupings, 
                       ms_groupings, 
                       aoi_column = "target_looking", 
                       return_ss_df = TRUE) 
```

```{r fit prop looking speaker blmm, include = FALSE}
fit_proplook_face_nov <- ss_novel_face %>% 
  filter(target_looking == "center", trial_type == "exposure") %>% 
  brms::brm(data = ., 
            prop_looking ~ (gaze_condition + age_category + trial_num_learn_block)^2 + 
              (gaze_condition + trial_num_learn_block | subid),
            family = gaussian()
  )

params_proplook_face <- rownames(fixef(fit_proplook_face_nov))

coefs_proplook_face_nov <- fixef(fit_proplook_face_nov) %>% 
  as_tibble() %>% 
  mutate(param = params_proplook_face) %>% 
  mutate_if(is.numeric, round, 2)
```

```{r fit prop looking target blmm, include = FALSE}
fit_proplook_target_nov_all <- ss_novel_obj %>% 
  filter(target_looking == "target", age_category == "adults") %>% 
  brms::brm(data = ., 
       prop_looking ~ (gaze_condition + trial_type + trial_num_learn_block)^2 + 
         (gaze_condition + trial_num_learn_block + trial_type | subid)
       , family = gaussian()
  )

params_proplook_targ <- rownames(fixef(fit_proplook_target_nov_all))

coefs_proplook_targ_nov <- fixef(fit_proplook_target_nov_all) %>% 
  as_tibble() %>% 
  mutate(param = params_proplook_targ) %>% 
  mutate_if(is.numeric, round, 2)

## fit separate models for the adults and kids
## this is totally exploratory and just fit to answer 
## the question of whether we could measure learning in kids, would we
## expect to see an effect of the gaze manipulation on learning trajectories

fit_proplook_target_nov_adults <- ss_novel_obj %>% 
  filter(target_looking == "target", age_category == "adults") %>% 
  brms::brm(data = ., 
       prop_looking ~ (gaze_condition + trial_type + trial_num_learn_block)^2 + 
         (gaze_condition + trial_num_learn_block + trial_type | subid)
       , family = gaussian()
  )

params_proplook_targ_adults <- rownames(fixef(fit_proplook_target_nov_adults))

coefs_proplook_targ_nov_adults <- fixef(fit_proplook_target_nov_adults) %>% 
  as_tibble() %>% 
  mutate(param = params_proplook_targ_adults) %>% 
  mutate_if(is.numeric, round, 2)

## Kids model
fit_proplook_target_nov_kids <- ss_novel_obj %>% 
  filter(target_looking == "target", age_category == "children") %>% 
  brms::brm(data = ., 
       prop_looking ~ (gaze_condition + trial_type + trial_num_learn_block)^2 + 
         (gaze_condition + trial_num_learn_block + trial_type | subid)
       , family = gaussian()
  )

params_proplook_targ_kids <- rownames(fixef(fit_proplook_target_nov_kids))

coefs_proplook_targ_nov_kids <- fixef(fit_proplook_target_nov_kids) %>% 
  as_tibble() %>% 
  mutate(param = params_proplook_targ_kids) %>% 
  mutate_if(is.numeric, round, 2)

## get summary stats for prop looking to target
ss_novel_obj %>% 
  filter(target_looking == "target") %>% 
  group_by(age_category, trial_type, gaze_condition) %>% 
  summarise(m = mean(prop_looking))
```

*Learning effects.* Our primary question of interest was how exposure to multiple co-occurrences of word-object pairs would change learners' distribution of attention between the speaker and objects. Figure XXX shows proportion looking to the speaker (XXXA) and the target and distracter objects (XXXB) as a function of trial number within a word learning block. Both children and adults were more likely to fixate on the speaker when she provided a gaze cue ($\beta_{gaze}$ = `r printnum(coefs_proplook_face_nov$Estimate[2] * -1)`, 95% HDI [`r printnum(coefs_proplook_face_nov$Q2.5[2] * -1)`, `r printnum(coefs_proplook_face_nov$Q97.5[2] * -1)`]). Moreover, there was a developmental difference such that children, but not adults, were more likely to increase their fixations to the speaker over the course of the learning block ($\beta_{gaze:tr.num}$ = `r printnum(coefs_proplook_face_nov$Estimate[7])`, 95% HDI [`r printnum(coefs_proplook_face_nov$Q2.5[7])`, `r printnum(coefs_proplook_face_nov$Q97.5[7])`]). 

```{r san-prop-looking-plot, out.width="100%", fig.cap = "Panel A shows participants’ tendency to look at the target object on exposure and test trials as a function of the trial number within a learning block. The horizontal, dashed line represents the tendency to distribute attention equally across the two images. Color indicates gaze condition and error bars represent 95\\% credible intervals. Panel B shows the same information but collapsed across trial to highlight the effect of the gaze cue."}

knitr::include_graphics(here::here(image_path, "speed_acc_novel_proplook.jpeg"))
```

Overall, looking to the target increased as learners were exposed to more word-object pairings ($\beta_{tr.num}$ = `r printnum(coefs_proplook_targ_nov$Estimate[4])`, 95% HDI [`r printnum(coefs_proplook_targ_nov$Q2.5[4])`, `r printnum(coefs_proplook_targ_nov$Q97.5[4])`]) and was higher when the novel word was accompanied by a gaze cue ($\beta_{gaze}$ = `r printnum(coefs_proplook_targ_nov$Estimate[2])`, 95% HDI [`r printnum(coefs_proplook_targ_nov$Q2.5[2])`, `r printnum(coefs_proplook_targ_nov$Q97.5[2])`]). Visual inspection of Figure XXX shows that, on the first Exposure trial, both adults and children used the gaze cue to disambiguate reference, fixating more on the target in the Gaze condition. For children, higher target looking on Exposure trials with gaze remained relatively constant across the learning block. In contrast, adults target looking reached ceiling for both Gaze and No-gaze conditions by trial number two, indicating that they had successfully used the co-occurrence information across trials to map the novel word to its referent. We also saw evidence that adults, but not children, looked more to the target object on Test trials preceded by Exposure trials with a gaze cue earlier in the course of learning, with adults tending to achieve the same level of accuracy on Test trials in the absence of gaze at the end of the learning block. We did not see evidence for an effect of the gaze manipulation on children's looking behavior on Test trials. 

```{r speed-acc-novel exposure-test looking aggregate}
ss_groupings <- list("subid", "gaze_condition", "trial_type", "age_category", "trial_num_learn_block", "target_word",  "trial_num_exp")
ms_groupings <- list("subid", "gaze_condition", "trial_type", "age_category", "trial_num_learn_block", "target_word")

ss_novel_learning <- d_analysis_nov %>% 
  #filter(target_looking != "center") %>% 
  aggregate_ss_looking(df = .,
                       ss_groupings, 
                       ms_groupings, 
                       aoi_column = "target_looking", 
                       return_ss_df = TRUE) 

exposure_ss <- ss_novel_learning %>% 
  filter(target_looking == "target") %>% 
  select(subid, trial_num_exp, trial_num_learn_block, trial_num_exp, 
         target_word, age_category, gaze_condition, trial_type, prop_looking) %>% 
  spread(trial_type, prop_looking) %>% 
  filter(!is.na(exposure)) %>% 
  select(-test, -trial_num_exp)

test_ss <- ss_novel_learning %>% 
  filter(target_looking == "target") %>% 
  select(subid, trial_num_exp, trial_num_learn_block, trial_num_exp, 
         target_word, age_category, gaze_condition, trial_type, prop_looking) %>%  
  spread(trial_type, prop_looking) %>% 
  filter(!is.na(test)) %>% 
  select(-exposure, -trial_num_exp)

ss_learning_final <- left_join(exposure_ss, test_ss)
```

```{r blmm speed-acc-novel exp-test looking, include=FALSE}
fit_exp_test_look <- ss_learning_final %>% 
  brms::brm(data = ., 
       test ~ (exposure + gaze_condition + age_category + trial_num_learn_block)^2 + (gaze_condition + trial_num_learn_block | subid),
       family = gaussian()
       )

params_exp_test <- rownames(fixef(fit_exp_test_look))

coefs_exp_test <- fixef(fit_exp_test_look) %>% 
  as_tibble() %>% 
  mutate(param = params_exp_test) %>% 
  mutate_if(is.numeric, round, 2)
```

*Relationship between looking on exposure and test.* For both children and adults, more time attending to the target object on exposure trials led to a higher proportion of looking to the target on test trials, especially for adults ($\beta_{exposure:age}$ = `r printnum(coefs_exp_test$Estimate[7])`, 95% HDI [`r printnum(coefs_exp_test$Q2.5[7])`, `r printnum(coefs_exp_test$Q97.5[7])`]) and as the number of word-object exposures increased over the course a learning block ($\beta_{exposure:tr.num}$ = `r printnum(coefs_exp_test$Estimate[8])`, 95% HDI [`r printnum(coefs_exp_test$Q2.5[8])`, `r printnum(coefs_exp_test$Q97.5[8])`]). There was some evidence that learners in the No-gaze context spent less time looking to the target image on Test trials later in the learning block  ($\beta_{gaze:tr.num}$ = `r printnum(coefs_exp_test$Estimate[10])`, 95% HDI [`r printnum(coefs_exp_test$Q2.5[10])`, `r printnum(coefs_exp_test$Q97.5[10])`]). This result dovetails with the findings from Experiment 2, providing evidence that the presence of social information did more than change attention on Exposure trials but instead modulated the relationship between attention during learning and laater memory for the word-object links.

Overall, the time course and the proportion looking analyses suggest that the presence of gaze changed how children and adults allocated attention while processing novel words. In the context of unfamiliar objects, children tended to fixate more on a speaker's face when she provided a post-nominal social cue to reference, a difference in looking behavior that increased as they were exposed to more word-object co-ocurrences. This result stands in contrast to the parallel looking behavior that we found in Experiment 1 when children were processing highly familiar nouns. Morever, in the presence of a speaker who provides a gaze cue, children and adults spent less time fixating on the distracter image, thus modulating the strength of the possible word-object connections that could have been created during the labeling moment. However, these changes in gaze patterns did not generalize to performance differences on Test trials for children in this task. Finally, there evidence that the presence of a social cue to reference modulated the link between attention on exposure trials and fixations at test.

### First shift RT and Accuracy

```{r speed-acc-novel-shifts, out.width="80%", fig.cap = "First shift Reaction Time (RT), and Accuracy results for children and adults in Experiment 3. Panel A shows the distribution of pairwise contrasts between RTs in the gaze and no-gaze conditions. The square point represents the mean value for each measure. The vertical dashed line represents the null model of zero condition difference. The width each point represents the 95\\% HDI. Panel B shows the same information but for participants' first shift accuracy."}

knitr::include_graphics(here::here(image_path, "speed_acc_novel_fstshifts.jpeg"))
```

```{r speed-acc-nov filter for blmm}
d_model_nov <- d_novel_fs %>%
  filter(is.na(block_excluded) | block_excluded != learning_block, 
         shift_start_location == "center") %>%
  group_by(subid, learning_block) %>%
  mutate(n_trials = n()) %>% 
  filter(rt > 0, 
         keep_drop == "keep", 
         n_trials >= 2) %>% 
  ungroup()

m_rt <- log(d_model_nov$rt) %>% mean()
sd_rt <- log(d_model_nov$rt) %>% sd()

d_model_nov %<>% 
  mutate(log_rt = log(rt),
         keep_rt = case_when(
           log_rt <= m_rt + 3*sd_rt & log_rt >= m_rt - 3*sd_rt ~ "keep",
           TRUE ~ "drop"
         )) %>% 
  filter(keep_rt == "keep")
```

```{r blmm speed-acc-nov, include = FALSE}
# RT
fit_rt_nov <- brms::brm(log(rt) ~ gaze_on_trial * age_category + (gaze_on_trial|subid), 
                        data = filter(d_model_nov, trial_type == "exposure"),
                        family = gaussian(),
                        silent = TRUE)

params <- rownames(fixef(fit_rt_nov))

coefs_rt_nov <- fixef(fit_rt_nov) %>% 
  as_tibble() %>% 
  mutate(param = params) %>% 
  mutate_if(is.numeric, round, 2)

## summary stats for RT
ms_rt_nov <- d_model_nov %>% 
  filter(keep_rt == "keep", trial_type == "exposure") %>% 
  group_by(age_category, gaze_on_trial) %>% 
  summarise(m = mean(rt * 1000) %>% round(3))

# accuracy exposure trials
fit_acc_nov_exp <- brms::brm(correct_num ~ gaze_on_trial * age_category + (gaze_on_trial|subid),
                        data = filter(d_model_nov, trial_type == "exposure"), 
                        family = binomial(link = 'logit'),
                        silent = TRUE)

params_acc <- rownames(fixef(fit_acc_nov_exp))

coefs_acc_nov_exp <- fixef(fit_acc_nov_exp) %>% 
  as_tibble() %>% 
  mutate(param = params_acc) %>% 
  mutate_if(is.numeric, round, 2)

# accuracy test trials
fit_acc_nov_test <- brms::brm(correct_num ~ gaze_condition * age_category + (gaze_condition|subid),
                        data = filter(d_model_nov, trial_type == "test"), 
                        family = binomial(link = 'logit'),
                        silent = TRUE)

coefs_acc_nov_test <- fixef(fit_acc_nov_test) %>% 
  as_tibble() %>% 
  mutate(param = params_acc) %>% 
  mutate_if(is.numeric, round, 2)

## summary stats for accuracy 
ms_acc_nov <- d_model_nov %>% 
  group_by(age_category, gaze_condition, trial_type) %>% 
  summarise(m = mean(correct_num) %>% round(2))
```

We next asked how the presence of gaze influenced learners' decision to stop gathering visual information from the speaker and start fixating on the novel objects. To quantify the effect the gaze, we fit a Bayesian linear mixed-effects regression predicting first shift RT as a function of whether there was a gaze cue present on the trial and age group. Both children (Gaze $M_{rt}$ = `r ms_rt_nov$m[1]` ms, No-gaze $M_{rt}$ = `r ms_rt_nov$m[2]` ms)  and adults (Gaze $M_{rt}$ = `r ms_rt_nov$m[3]` ms, No-gaze $M_{rt}$ = `r ms_rt_nov$m[4]` ms) fixated longer on the speaker when she provided a gaze cue ($\beta$ = `r coefs_rt_nov$Estimate[2]`, 95% HDI [`r coefs_rt_nov$Q2.5[2]`, `r  coefs_rt_nov$Q97.5[2]`]). With no evidence of an interaction between gaze condition and age group  ($\beta_{int}$ = `r coefs_rt_nov$Estimate[4]`, 95% HDI [`r coefs_rt_nov$Q2.5[4]`, `r  coefs_rt_nov$Q97.5[4]`]). Moreover, both (Gaze $M_{acc}$ = `r ms_acc_nov$m[1]`, No-gaze $M_{acc}$ = `r ms_acc_nov$m[3]`)  and adults (Gaze $M_{acc}$ = `r ms_acc_nov$m[5]`, No-gaze $M_{acc}$ = `r ms_acc_nov$m[7]`) generated more accurate first shifts in the gaze condition, indicating they were following the gaze cue on Exposure trials ($\beta$ = `r coefs_acc_nov_exp$Estimate[2]`, 95% HDI [`r coefs_acc_nov_exp$Q2.5[2]`, `r  coefs_acc_nov_exp$Q97.5[2]`]). 

Finally, we asked whether the presence of gaze affected subsequent learning by fitting the same accuracy model on Test trials. We found that adults were much more accurate than children ($\beta_{age}$ = `r coefs_acc_nov_test$Estimate[4]`, 95% HDI [`r coefs_acc_nov_test$Q2.5[4]`, `r  coefs_acc_nov_test$Q97.5[4]`]), and that both children and adults generated shifts that landed on the target with similar accuracy regardless of whether the Test trial was preceded by an Exposure trial with a gaze cue ($\beta_{gaze}$ = `r coefs_acc_nov_test$Estimate[2]`, 95% HDI [`r coefs_acc_nov_test$Q2.5[2]`, `r  coefs_acc_nov_test$Q97.5[2]`]). 

Overall, the first shift analyses provide converging, albeit mixed, evidence that learners' modulated their decisions about visual fixation to gather additional a post-nominal gaze cue when it was available. Children but not adults generated slower first shifts away from a speaker's face when there was a Gaze cue to gather. Both children and adults generated a higher proportion of shifts landing on the target image when there was post-nominal gaze cue available. Finally, adults, but not children, generated more accurate first shifts on Test trials that were preceded by Exposure trials with gaze. The absence of condition differences for children's performance on Test trials parallels the timecourse looking analyses and suggest that children were not learning the novel word-object links well enough in either context.

# General Discussion

During grounded language processing, looks to a speaker or to objects can faciliate comprehension and learning. Do children flexibly seek  visual information to support these goals? And how does information seeking adapt as children gain more exposure to consistent word-object pairings across multiple labeling events? In this work, we pursued the idea that learners flexibly adapt their gaze to seek disambiguating information from social partners when it is useful for their comprehension and learning. We presented evidence for this explanation by tracking children and adults' eye movements as they processed both familiar and novel words accompanied by an ecologically-valid social cue to reference (eye gaze). We also measured how gaze learners' gaze dynamics changed as a function of accumulating statistical information about the target word-object mappings. 

In Experiment 1, we found that, children and adults showed parallel gaze responses while processing familiar words, shifting attention away from the speaker's face before she produced a post-nominal gaze cue. Experiment 2 showed that the presence of gaze in the context of novel objects focused adults' attention on a single object and modulated the strength of the relationship between visual attention during labeling and subsquent measures of recall for newly learned word-object pairs. Finally, in Experiment 3, we found that both children and adults fixated longer on a speaker who produced a gaze cue while labeling novel objects, and this behavior led to more attention to the target object and less looking to the distracter object. Both age groups, however, were capable of learning the novel word-object pairings from cross-situational stastics alone, and only adults showed evidence of stronger learning in the less ambiguous context of social gaze.  

## Limitations 

This work has several important limitations. First, we did not see evidence of that the effects of gaze generalized to learning trajectories in children in Experiment 3. Moreover, we did not see evidence of strong uptake of the novel word-object links overall. Our future work is aimed at modifying the task to increase children's learning and thus the opportunity to detect any effect of social information over a longer timescale. For example, we plan to make the social cue stronger by increasing the length of time the speaker gazed at the object, which in the current stimulus set was relatively brief social cue (~1 sec). We also plan to pair the newly-learned novel objects against one another on Test trials, which would reduce any attraction of novelty that pushed children to look at the distracter object that they had not seen before on Test trials in the current design.

Second, while we do measure the effects of social information on learning over multiple labeling events, it is still a much shorter timescale and smaller number of exposures relative to children's ecological task. Moreover, the visual world paradigm, while well-controlled, is highly constrained in terms of the complexity of information seeking decisions that children make when allocating visual attention in their naturalistic learning environments. Thus, a valuable next step for this work would be to leverage tasks that move closer to the ecological context in which children process and learn language such as using head-mounted cameras and eye trackers that would allow measurement of where children choose to look during everyday interactions. It would be interesting to measure changes in children's looking to communicative partners when they are first introduced to novel objects in their day-to-day lives.

Third, we used a binary manipulation of the quality of information available in the social context -- full disambiguating gaze cue or totally ambiguous absence of a gaze cue -- which does not reflect the complexity of children's social interactions. That is, children's social partners are more likely to provide intermediate levels of disambiguating information during novel object labeling. Morever, our prior work suggests that adults are sensitive to the graded changes in the reliability of a gaze cue, storing word-object links with greater fidelity as reliability increased [@macdonald2017social]. Thus, it seems useful to know how children's real-time information selection responds to continuous changes in referential ambiguity. 

## Conclusions

In this paper, we presented a set of empirical studies that integrate ideas from social-pragmatic and statistical accounts of language acquisition. We found that listeners' decisions to wait and seek social information depended on their uncertainty over the word-object mappings. Only in the case of processing novel words did learners adapt their gaze dynamics to seek a post-nominal social cue to reference. Moreover, processing novel words with an available gaze cue modulated the relationship between learners' real-time looking behavior during labeling and retention at a longer timescale. More generally, this work sheds light on how children can use eye movements as an active information gathering process within social contexts, which, in turn, shapes the information that comes into contact with their statistical learning mechanisms.

\newpage

# References

```{r create_r-references}
my_citations <- cite_r(file = here::here("writing/manuscript/r-references.bib"), 
                       pkgs = c("tidyverse", "rstanarm", "papaja", "here", "knitr"), 
                       withhold = FALSE,
                       footnote = TRUE)
```

\begingroup
\setlength{\parindent}{-0.5in}
\setlength{\leftskip}{0.5in}

<div id = "refs"></div>
\endgroup
